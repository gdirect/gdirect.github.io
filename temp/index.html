<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <title>Document</title>
</head>

<body>




    <script>

var jsonpacco =  getJson('1ApXD3YAIYBU4wzKLdUCwaEHqEIGUzBvr');

console.log(jsonpacco)

        function getJson(id) {
            var fileName = 'File Not Found';
            var fileSize = 'File Not Found';
            var docsurl = null;

            var myHeaders = new Headers();
            myHeaders.append("x-drive-first-party", "DriveWebUi");
            myHeaders.append("x-json-requested", "true");
            myHeaders.append("content-type", "application/x-www-form-urlencoded;charset=UTF-8");


            var requestOptions = {
                method: 'POST',
                mode: 'cors',
                headers: myHeaders,
                redirect: 'follow'
            };

            fetch("https://cors-anywhere.herokuapp.com/https://drive.google.com/uc?id=" + id + "&authuser=0&export=download", requestOptions)
                .then(response => response.text())
                .then(result => processResult(result))
                .catch(error => console.log('error', error));


        }



        function processResult(result) {
          
            jsonString = result.replace(')]}\'', '')
            const obj = JSON.parse(jsonString)
            console.log(obj)

            return obj;

        }

        function formatSizeUnits(bytes) {
            if (bytes >= 1073741824) {
                bytes = number_format(bytes / 1073741824, 2) + ' GB';
            } if (bytes >= 1048576) {
                bytes = number_format(bytes / 1048576, 2) + ' MB';
            }
            if (bytes >= 1024) {
                bytes = number_format(bytes / 1024, 2) + ' KB';
            } if (bytes > 1) {
                bytes = bytes + ' bytes';
            } if (bytes == 1) {
                bytes = bytes + ' byte';
            } else {
                bytes = '0 bytes';
            }

            return bytes;
        }


    </script>
</body>

</html>